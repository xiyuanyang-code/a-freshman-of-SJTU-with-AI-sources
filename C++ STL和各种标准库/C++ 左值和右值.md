# C++ 左值和右值

在 C++ 中，左值（lvalue）和右值（rvalue）是两个基本的值类别概念，它们帮助我们理解表达式的行为，尤其是在赋值和函数调用时。理解左值和右值对于掌握 C++ 的内存管理和优化技术非常重要。

### 左值（lvalue）

- **定义**：左值是指那些表示内存位置的值，可以出现在赋值操作符的左侧。左值有持久的内存地址，可以被修改。
- **特点**：
  - 可以获取其地址（即可以应用 `&` 运算符）。
  - 通常是变量、数组元素、解引用指针等。
  - 在赋值操作中，左值是可以被赋值的对象。

**示例**：
```cpp
int x = 10; // x 是一个左值
int *p = &x; // 可以获取 x 的地址
```

### 右值（rvalue）

- **定义**：右值是指那些不表示特定内存位置的值，通常是临时值或字面常量，不能出现在赋值操作符的左侧。
- **特点**：
  - 通常不能获取其地址（不能对右值应用 `&` 运算符）。
  - 包括字面量（如整数 `5`、字符 `'c'`）、临时对象（如函数返回的非引用对象）、表达式的结果等。
  - 右值通常用于赋值给左值。

**示例**：
```cpp
int y = x + 5; // x + 5 是一个右值
```

### 右值引用（C++11 引入）

- **定义**：右值引用是一种允许我们捕获和操作右值的引用类型，使用 `&&` 符号表示。
- **用途**：右值引用最常用于实现移动语义和完美转发，以提高程序性能，特别是在涉及资源管理的类中。
  

**示例**：
```cpp
int &&rref = 5; // rref 是一个右值引用，绑定到右值 5
```

### 总结

- 左值和右值是 C++ 表达式的核心概念，影响变量的生命周期和可变性。
- 左值通常表示持久的、可修改的存储位置，而右值通常是临时的、不可修改的值。
- 右值引用是 C++11 引入的特性，主要用于优化对象的移动操作。

理解左值和右值的区别对于编写高效的 C++ 程序至关重要，尤其是在涉及到资源管理和性能优化时。